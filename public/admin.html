<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Panel de administraci√≥n de Agencia Modelos Argentinas">
    <meta name="theme-color" content="#0483B8">
    <title>Panel de Administraci√≥n - Agencia Modelos Argentinas</title>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="alternate icon" href="/favicon.svg" />
    <link rel="stylesheet" href="styles.css">
</head>
<body class="admin-body">
    <header class="admin-header">
        <div class="container">
            <h1>Panel de Administraci√≥n</h1>
            <div class="admin-actions">
                <span id="adminUsername"></span>
                <a href="/api/logout" class="btn-logout">Cerrar Sesi√≥n</a>
            </div>
        </div>
    </header>

    <div class="container admin-container">
        <div class="admin-tabs">
            <button class="tab-button active" onclick="showTab('qr', this)">QR Contacto</button>
            <button class="tab-button" onclick="showTab('qr-sorteo', this)">QR Sorteo</button>
            <button class="tab-button" onclick="showTab('modelos', this)">Modelos</button>
            <button class="tab-button" onclick="showTab('contactos', this)">Contactos</button>
        </div>

        <!-- Tab QR Contacto -->
        <div id="tab-qr" class="tab-content active">
            <div class="card">
                <h2>Generar C√≥digo QR ‚Äî Contacto</h2>
                <p class="subtitle">Genera un c√≥digo QR para compartir con futuras modelos (formulario completo)</p>
                
                <div class="qr-admin-wrapper">
                    <div id="qrAdminContainer" class="qr-admin-placeholder">
                        <p>Haz clic en "Generar QR Contacto" para crear el c√≥digo</p>
                    </div>
                </div>
                
                <button onclick="generarQR()" class="btn-primary">Generar QR Contacto</button>
                
                <div id="qrUrl" class="qr-url-display" style="display: none;">
                    <p><strong>URL:</strong> <span id="qrUrlText"></span></p>
                    <div class="qr-actions">
                        <button type="button" onclick="descargarQR()" class="btn-download">‚¨áÔ∏è Descargar QR</button>
                        <button onclick="copiarQRUrl(event)" class="btn-copy">üìã Copiar URL</button>
                        <button onclick="compartirWhatsApp()" class="btn-share btn-whatsapp">üí¨ Compartir por WhatsApp</button>
                        <button onclick="compartirQR()" class="btn-share" id="btnShareNative">üì§ Compartir (Nativo)</button>
                        <button onclick="compartirEnRedes()" class="btn-share-social">üåê Compartir en Redes</button>
                    </div>
                    
                    <div class="share-buttons" id="shareButtons" style="display: none;">
                        <p class="share-title">Compartir en:</p>
                        <div class="share-grid">
                            <button onclick="compartirWhatsApp()" class="share-btn share-whatsapp">
                                <span class="share-icon">üí¨</span>
                                <span>WhatsApp</span>
                            </button>
                            <button onclick="compartirFacebook()" class="share-btn share-facebook">
                                <span class="share-icon">üìò</span>
                                <span>Facebook</span>
                            </button>
                            <button onclick="compartirTwitter()" class="share-btn share-twitter">
                                <span class="share-icon">üê¶</span>
                                <span>Twitter</span>
                            </button>
                            <button onclick="compartirX()" class="share-btn share-x">
                                <span class="share-icon" style="font-size: 1.5em; font-weight: bold;">ùïè</span>
                                <span>X</span>
                            </button>
                            <button onclick="compartirInstagram()" class="share-btn share-instagram">
                                <span class="share-icon" style="font-size: 1.5em;">üì∏</span>
                                <span>Instagram</span>
                            </button>
                            <button onclick="compartirLinkedIn()" class="share-btn share-linkedin">
                                <span class="share-icon">üíº</span>
                                <span>LinkedIn</span>
                            </button>
                            <button onclick="compartirEmail()" class="share-btn share-email">
                                <span class="share-icon">‚úâÔ∏è</span>
                                <span>Email</span>
                            </button>
                            <button onclick="compartirTelegram()" class="share-btn share-telegram">
                                <span class="share-icon">‚úàÔ∏è</span>
                                <span>Telegram</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab QR Sorteo -->
        <div id="tab-qr-sorteo" class="tab-content">
            <div class="card">
                <h2>Generar C√≥digo QR ‚Äî Sorteo</h2>
                <p class="subtitle">QR solo para sorteos: formulario con nombre, email y tel√©fono (sin empresa ni mensaje)</p>
                
                <div class="qr-admin-wrapper">
                    <div id="qrAdminContainerSorteo" class="qr-admin-placeholder">
                        <p>Haz clic en "Generar QR Sorteo" para crear el c√≥digo</p>
                    </div>
                </div>
                
                <button onclick="generarQRSorteo()" class="btn-primary">Generar QR Sorteo</button>
                
                <div id="qrUrlSorteo" class="qr-url-display" style="display: none;">
                    <p><strong>URL:</strong> <span id="qrUrlTextSorteo"></span></p>
                    <div class="qr-actions">
                        <button type="button" onclick="descargarQRSorteo()" class="btn-download">‚¨áÔ∏è Descargar QR</button>
                        <button onclick="copiarQRUrlSorteo(event)" class="btn-copy">üìã Copiar URL</button>
                        <button onclick="compartirWhatsAppSorteo()" class="btn-share btn-whatsapp">üí¨ Compartir por WhatsApp</button>
                        <button onclick="compartirQRSorteo()" class="btn-share" id="btnShareNativeSorteo">üì§ Compartir (Nativo)</button>
                        <button onclick="compartirEnRedesSorteo()" class="btn-share-social">üåê Compartir en Redes</button>
                    </div>
                    
                    <div class="share-buttons" id="shareButtonsSorteo" style="display: none;">
                        <p class="share-title">Compartir en:</p>
                        <div class="share-grid">
                            <button onclick="compartirWhatsAppSorteo()" class="share-btn share-whatsapp">
                                <span class="share-icon">üí¨</span>
                                <span>WhatsApp</span>
                            </button>
                            <button onclick="compartirFacebookSorteo()" class="share-btn share-facebook">
                                <span class="share-icon">üìò</span>
                                <span>Facebook</span>
                            </button>
                            <button onclick="compartirTwitterSorteo()" class="share-btn share-twitter">
                                <span class="share-icon">üê¶</span>
                                <span>Twitter</span>
                            </button>
                            <button onclick="compartirXSorteo()" class="share-btn share-x">
                                <span class="share-icon" style="font-size: 1.5em; font-weight: bold;">ùïè</span>
                                <span>X</span>
                            </button>
                            <button onclick="compartirInstagramSorteo()" class="share-btn share-instagram">
                                <span class="share-icon" style="font-size: 1.5em;">üì∏</span>
                                <span>Instagram</span>
                            </button>
                            <button onclick="compartirLinkedInSorteo()" class="share-btn share-linkedin">
                                <span class="share-icon">üíº</span>
                                <span>LinkedIn</span>
                            </button>
                            <button onclick="compartirEmailSorteo()" class="share-btn share-email">
                                <span class="share-icon">‚úâÔ∏è</span>
                                <span>Email</span>
                            </button>
                            <button onclick="compartirTelegramSorteo()" class="share-btn share-telegram">
                                <span class="share-icon">‚úàÔ∏è</span>
                                <span>Telegram</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab Modelos -->
        <div id="tab-modelos" class="tab-content">
            <div class="card">
                <div class="section-header">
                    <h2>Gesti√≥n de Modelos</h2>
                    <button onclick="mostrarFormModelo()" class="btn-primary">+ Agregar Modelo</button>
                </div>

                <div id="formModelo" class="modelo-form-container" style="display: none;">
                    <h3 id="formModeloTitulo">Agregar Nuevo Modelo</h3>
                    <form id="modeloForm">
                        <input type="hidden" id="modeloId">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="mNombre">Nombre *</label>
                                <input type="text" id="mNombre" required>
                            </div>
                            <div class="form-group">
                                <label for="mApellido">Apellido</label>
                                <input type="text" id="mApellido">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="mEmail">Email</label>
                                <input type="email" id="mEmail">
                            </div>
                            <div class="form-group">
                                <label for="mTelefono">Tel√©fono</label>
                                <input type="tel" id="mTelefono">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="mEdad">Edad</label>
                                <input type="number" id="mEdad">
                            </div>
                            <div class="form-group">
                                <label for="mAltura">Altura</label>
                                <input type="text" id="mAltura" placeholder="ej: 175 cm">
                            </div>
                            <div class="form-group">
                                <label for="mMedidas">Medidas</label>
                                <input type="text" id="mMedidas" placeholder="ej: 90-60-90">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="mCiudad">Ciudad</label>
                            <input type="text" id="mCiudad">
                        </div>
                        <div class="form-group">
                            <label>Fotos del Modelo</label>
                            <div id="fotosContainer">
                                <div class="foto-input-group">
                                    <input type="url" class="foto-url-input" placeholder="https://ejemplo.com/foto1.jpg">
                                    <button type="button" class="btn-remove-foto" onclick="removeFotoInput(this)" style="display: none;">‚úï</button>
                                </div>
                            </div>
                            <button type="button" id="btnAddFoto" onclick="addFotoInput()" class="btn-add-foto">+ Agregar otra foto</button>
                            <small style="display: block; margin-top: 8px; color: var(--text-secondary);">
                                Puedes agregar hasta 20 fotos. La primera ser√° la foto principal.
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="mDescripcion">Descripci√≥n</label>
                            <textarea id="mDescripcion" rows="3"></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Guardar</button>
                            <button type="button" onclick="cancelarFormModelo()" class="btn-secondary">Cancelar</button>
                        </div>
                    </form>
                </div>

                <div id="modelosList" class="modelos-list">
                    <div class="loading">Cargando modelos...</div>
                </div>
            </div>
        </div>

        <!-- Tab Contactos -->
        <div id="tab-contactos" class="tab-content">
            <div class="card">
                <h2>Contactos Recibidos</h2>
                <p class="subtitle">Personas que han compartido sus datos mediante el formulario</p>
                
                <div id="contactosList" class="contactos-list">
                    <div class="loading">Cargando contactos...</div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script src="utils.js"></script>
    <script src="admin.js"></script>
</body>
</html>

